# 游戏核心玩法介绍
```sh
游戏的模式是闯关roguelike，战斗方式是FPS，随机生成地图
地图由房间构成，每个房间有最多四个门，分别通向四个新房间
房间会随机生成怪物，一般房间会生成小怪和精英怪
随机生成BOSS房，BOSS房内只有一个BOSS
随机生成休息室，回复状态和道具采买
如果房间只有一个门，也就是说入口就是唯一出口，那这个门是死门
如果玩家未探索的门都是死门，即没有新房间可以探索，则游戏结束，玩家通关
```
# 参考竞品
1. 弓箭手大作战
```sh
主要参考弓箭手大作战的房间探索设定，道具、回血、随机数值设定
```
2. 哈迪斯
```sh
主要参考游廊设定，松弛有度
后期参考地图陷阱、障碍、技能设定
```
3. 羊了个羊
```sh
主要参考无限模式游戏加概率有通关的做法，这个做法会极大的吸引玩家尝试通关以增加留存
参考付费、广告、排行榜、LBS做法
```
# 核心玩法介绍
## 战斗方式
```sh
采用unity现成库的FPS玩法，主要战斗方式包括手枪、冲锋枪、投掷手雷
前期不在战斗上花太多时间，主要精力放在玩法成型
战斗优化在vrog2.0之后
```
# 交互
## UI
```sh
置顶栏左侧依次排不按钮：设置、角色、帮助&反馈
指定栏右侧付费按钮，供玩家买数值
左上角第一行显示同时在线数、fps
左上角第二行显示总房间数、已探索房间数
左下摇杆、右下技能栏
置底中间道具列表，偏右道具背包
```
## 手机支持
```sh
将FPS的基本操作对应暴露前端UI，并且绑定同样的事件
难点在摇杆的拖拽操作
```
# 地图规则
## 房间
```sh
房间是地图的单元，不同房间由门联通
vrog1.0的房间统一为立方体，分前后左右四个门，如果没有门则只会看到一面墙
如果门对面是另一个房间的墙，或没有门，则为死门
vrog1.0只有战斗房间，之后会扩展休息室
房间内随机生成怪物，怪物只能在房间内移动和索敌攻击
```
## 地图生成
```sh
当玩家进入一个房间后，会自动生成与这个房间相连的门的新房间
新房间四扇门开闭随机控制，通过修改随机规则调控游戏进程和难度（预留算法接口）
小地图同步更新地图；UI同步更新房间数
每个门最多只能对应一个房间（无论对面房间是否有门联通），如果门对面已经对应了一个房间，则不会再次生成房间
地图就是在房间无限生成的过程中扩展。直到所有的门都变成死门，游戏结束
```
# 场景对象
## 非战斗对象：道具
## 战斗对象：怪物、玩家、子弹
### 基础属性
```sh
血量、攻击力、防御力、模型、移动速度、攻击速度、射程
触发攻击和血量判定
```
### 怪物
```sh

```
### 子弹
```sh
1. 子弹的本质是无AI的怪物
2. 碰撞即触发效果，主要效果是直接攻击，也可能是个timeLine
3. 被动生成
4. 被动销毁
5. 管理器的权限很大
```
## 怪物
## 玩家
## 怪物AI特性
1. 怪物只会在所属房间内巡逻
2. 当玩家进入房间后，怪物可以索敌到玩家并且面对玩家方向
3. 怪物有射程，当玩家在怪物射程内，随机移动，当玩家在射程外，朝玩家移动
4. 怪物行为有间隔，有移动/攻击/威胁动作等行为
# 技能
## 列举可能要用到的常见技能
1. 飞弹攻击
2. 进展弧形攻击
3. 指定单位受伤攻击
4. 瞬间移动
5. 狂暴
## 概要思路
```sh
用最标准的思路做技能框架
实现一系列触发器，如碰撞命中、点击UI、进入范围(光环)、特定事件等作为技能的施法条件
实现一系列可能的技能效果，如直接数值变化、buff(限时)、光环、动作、音效、特效、传送、聊天等
通过时间轴将效果链接成基础技能，大部分技能通过编辑时间轴完成
少数复杂技能需要做多次反映，如钩子、命中后摇等，需要用多条时间轴连接，即事件关联流程图分支
技能的等级只影响数值，加入升级使技能表现发生巨大变化，则新建技能，即技能映射(暂不考虑)
```
## 基础效果
```sh
1. 直接数值变化：坐标、血量、攻击力、移速、攻速、弹夹数等
2. buff：影响如上，区别是数值会随buff增减，即要做对称变化
# 子弹的效果如命中掉血、抛事件是子弹的行为，与事件本身无关，填子弹参数即可
3. 创建飞行子弹：最常见的投掷技能，飞行子弹穷举实现即可，后期整理可考虑特性继承关系
4. 动作、音效、特效：调用引擎接口，控制时长
5. 其他游戏自定义效果
```
## 数据结构
### 基本信息SkillBase
id,name,icon,desc,cd,cost,timeline
### 继承自Base的常用技能实现
普攻MeleeAttack
```sh
要先创建技能的prefab，包含基础属性
如果技能包含时间轴，创建一个时间轴做绑定即可
如果包含流程图，创建事件和多个时间轴，通过代码/特殊编辑技巧实现关联
```
## 房间
### 设置
1. 可生成怪物列表
2. 最大怪物数
3. 房间类型：普通、精英、BOSS
### 流程
1. 玩家进入房间后，生成怪物
2. 消灭所有怪物后，房间攻略完成
3. 地图上生成奖励道具、UI提示
# 结算
## 胜利
```sh
当所有的门都变成死门，即玩家探索了所有房间，游戏胜利，弹出胜利结算
统计并显示玩家探索的房间数量和排名、击杀怪物数和排名
显示最终玩家胜利时的角色数值
显示玩家的付费列表
播胜利结算的UI特效
vrog1.0不做数据继承，不联网，不做账号升级
```
## 失败
```sh
当玩家的血量为0并且不能复活时，游戏失败
统计数据同胜利，UI特效改回灰色失败特效
```
# 盈利
```sh
接入广告，前期先接入unity自带的广告
在获取奖励、复活、道具上设置奖励（暂时不做详细设计）
```